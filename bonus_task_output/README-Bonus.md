
# Bonus / Stretch Goals – RFQ Similarity Assessment

## 1. Overview
This notebook contains the bonus/advanced tasks for the RFQ similarity and analysis assessment.
The main goals are:

- Ablation Analysis: Understanding the impact of different feature groups (dimensions, grades, categorical features) on similarity.

- Alternative Similarity Metrics: Using different similarity measures (cosine similarity, weighted cosine, Jaccard) for more robust matching.

- Clustering: Grouping RFQs into families for visualization and interpretation.

All outputs are saved in the folder: bonus_task_output.

## 2. Datasets
- 'rfq.csv' – Original RFQs
- 'reference_properties.tsv' – Reference material/grade properties
- 'rfq_with_clusters.csv' – RFQs annotated with cluster labels
- 'top3_bonus.csv' – Top-3 similar RFQs per RFQ based on combined similarity
- 'pca_coordinates.csv' – PCA coordinates for cluster visualization

## 3. Steps Performed

### 3.1 Data Preparation
- Loaded 'rfq.csv and 'reference_properties.tsv'.
- Normalized grades and parsed numeric ranges (min, max, mid) for dimensions and material properties.
- Joined RFQs with reference properties and flagged missing references.

### 3.2 Ablation Analysis
- Computed cosine similarity for:
    - Dimensions only
    - Grades only
    - Combined (weighted)
- Visualized mean similarity to show the impact of dropping feature groups.

### 3.3 Alternative Metrics
- Used different similarity metrics:
    - Weighted cosine similarity for numeric features
    - Jaccard similarity for categorical features (coating, finish, form, surface type)
- Combined weighted metrics to compute overall similarity.
- Extracted top-3 matches for each RFQ.

### 3.4 Clustering
- Standardized numeric features (dimensions + grades) and encoded categorical features.
- Applied KMeans clustering to group RFQs.
- Visualized clusters using PCA (2D plot).
- Saved RFQs with cluster labels and PCA coordinates.

## 4. How to Use
1. Open 'top3_bonus.csv' to see the top-3 similar RFQs for each RFQ.
2. Open 'rfq_with_clusters.csv' to view cluster assignments.
3. Open 'pca_coordinates.csv' to visualize clusters in a 2D PCA space.
4. Refer to this README for context on the methodology used.

## 5. Notes
- Similarity metrics are weighted; numeric mid-values were used if available, else min-values.
- Ablation analysis helps understand the impact of different feature groups on similarity.
- Clustering provides an overview of RFQ families for quick categorization.

# Setup and Run Instructions
1. Python Environment

These notebooks are written in Python 3.

It is recommended to use Conda to manage your environment and dependencies.

## To create a new environment, you can run:

conda create -n vanillasteel python=3.10
conda activate vanillasteel


## Install required packages using pip or conda. Here are the main libraries used in the notebooks:

pandas

numpy

openpyxl

matplotlib

seaborn

scikit-learn

re (regular expressions)

## Any other standard Python libraries

You can install them with:

pip install pandas numpy openpyxl matplotlib seaborn scikit-learn

## 2. Folder Structure

Make sure your project folder is organized like this:

vanillasteel-assessment/
│
├── notebooks/          # All Task A, Task B, Bonus Task notebooks
├── data/               # Supplier files and any other input data
├── outputs/            # Folder to save processed CSV files
├── README-taskA.txt
├── README-taskB.txt
├── bonus_task_output/  # Folder to save outputs from the bonus task
├── README-Bonus.md


The data folder contains supplier files (e.g., supplier_data1.xlsx, supplier_data2.xlsx) needed for Task A.

The outputs folder is where the CSV files generated by the notebooks (e.g., inventory_dataset.csv, top3.csv) will be saved. Ensure this folder already exists.

## 3. Running the Notebooks
## Bonus Task

The Bonus Task notebook has been designed to run independently.

It may use logic similar to Task B, but it does not overwrite or affect Task B outputs.

Run all cells sequentially. Output files will also be saved in the bonus_task_output folder.

## 4. Notes on CSV and Excel

If opening CSV files in Excel, make sure to choose UTF-8 encoding to view German characters correctly.

In Excel:

Open Excel.

Go to Data → Get Data → From Text/CSV.

Select the file and set File Origin to UTF-8.

This ensures columns like description and finish display correctly without garbled text.

## 5. Optional

If using Jupyter Notebook, make sure your kernel is set to the Python environment you installed with the required libraries.

Always check the outputs folder to ensure CSV files are generated correctly after running the notebooks.
